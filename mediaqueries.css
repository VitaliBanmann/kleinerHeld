@media (pointer: coarse) {
    h1 { display: none; }
}

@media (pointer: coarse) and (orientation: landscape) {
  body.overlay-active .controlpanel { 
    display: none; 
  }
  
  body.overlay-active .game-canvas { 
    height: 100vh; 
  }
}

@media (pointer: coarse) and (orientation: portrait) {
  .rotate-hint {
    display: flex;
  }
  
  .game-canvas, 
  .controlpanel, 
  .site-footer { 
    display: none; 
  }
}

@media (hover: hover) {
  .controlpanel .control-button:hover,
  .controlpanel .buy-button:hover,
  .controlpanel #sound:hover,
  .controlpanel #pause:hover,
  .controlpanel #fullscreen:hover {
    background: linear-gradient(150deg, rgba(255,255,255,0.66) 0%, rgba(255,255,255,0.28) 60%, rgba(255,255,255,0.20) 100%);
  }
}

@media (pointer: fine) and (hover: hover) {
  #controlpanel,
  .controlpanel { display: none !important; }
}

@media (pointer: coarse), (max-width: 700px) {
    :root {
        --panel-h: 20vh;
        --btn-gap: 8px;
    }

    html, body { height: 100%; overflow: hidden; }
    h1 { display: none; }

    .game-canvas {
        position: fixed;
        top: 0; left: 0;
        transform: none;
        width: 100vw;
        height: calc(100vh - var(--panel-h));
        margin: 0;
        border: 0;
        border-radius: 0;
    }

    .controlpanel {
        position: fixed;
        left: 0; right: 0; bottom: 0;
        height: var(--panel-h);
        width: 100vw;
        z-index: 5;
        background: linear-gradient(180deg, rgba(255,255,255,0.20) 0%, rgba(255,255,255,0.10) 100%);
        border-top: 1px solid rgba(255,255,255,0.35);
    }

    .controls {
        display: flex;
        height: 100%;
        width: 100%;
    }

    .direction {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 30%;
        height: 100%;
    }

    .direction button {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 80%;
        width: 80%;
        max-height: 90%;
        background: rgba(255,255,255,0.18);
        border-radius: 15px;
        padding: 0;
    }

    .direction button img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        overflow: hidden;
    }

    .buy {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(2, 1fr);
        gap: var(--btn-gap);
        width: 40%;
        height: 100%;
    }
    .buy button {
        width: 100%;
        height: 100%;
        min-height: 0;
        min-width: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        background: rgba(255,255,255,0.18);
        border-radius: 15px;
        border: 1px solid #bbb;
        margin: 0;
        box-sizing: border-box;
        overflow: hidden;
    }

    .buy-button img {
      width: 80%;
      height: 80%;
      object-fit: contain;
      display: block;
      margin: auto;
      pointer-events: none;
    }

    .actions {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 30%;
        height: 100%;
    }

    .actions button {
        width: 80%;
        max-height: 90%;
        display: flex;
        border-radius: 15px;
        border: 1px solid #bbb;
        background: rgba(255,255,255,0.18);
        padding: 0;
    }

    .actions button img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        overflow: hidden;
    }
}

@media (pointer: coarse), (max-width: 700px) {
    .impressum {
        position: fixed;
        inset: 0;
        padding: 0;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }
    
    .imp-box {
        width: 100vw;
        height: 100vh;
        max-width: 100vw;
        margin: 0;
        padding: 20px 16px;
        border-radius: 0;
        border: none;
        display: flex;
        flex-direction: column;
        overflow-y: auto;
        overflow-x: hidden;
        font-size: 13px;
        line-height: 1.4;
        box-sizing: border-box;
    }

    .imp-box h1 {
        font-size: 1.6em;
        margin: 0.3em 0;
    }

    .imp-box h2 {
        font-size: 1.2em;
        margin: 0.6em 0 0.3em;
    }

    .imp-box p {
        margin: 0.4em 0;
    }

    .btn-back {
        padding: 12px 20px;
        font-size: 15px;
        margin: 12px 0 8px;
        flex-shrink: 0;
    }
}